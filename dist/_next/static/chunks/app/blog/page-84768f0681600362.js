(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404,938,511],{2517:function(e,t,a){Promise.resolve().then(a.bind(a,4710))},4710:function(e,t,a){"use strict";a.d(t,{default:function(){return u}});var n=a(7437),r=a(2265),s=a(7648),l=a(9376),i=a(9089),c=a(6501),o=()=>{let e=(0,l.usePathname)(),{isAdmin:t}=(0,c.a)(),a=[{icon:i.xng,label:"首頁",path:"/"},{icon:i.nGB,label:"課程",path:"/classcourse"},{icon:i.QJe,label:"運勢",path:"/daily"},{icon:i.Xws,label:"我的",path:"/profile"},{icon:i.p4t,label:"設定",path:"/settings"},...t?[{icon:i.W95,label:"報名管理",path:"/admin/bookings"}]:[]];return(0,n.jsx)("div",{className:"fixed bottom-0 w-full bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 z-50",children:(0,n.jsx)("div",{className:"flex justify-around items-center h-[83px] px-6 pb-8 pt-2",children:a.map(t=>{let a=e===t.path;return(0,n.jsxs)(s.default,{href:t.path,className:"flex flex-col items-center space-y-1 ".concat(a?"text-purple-600":"text-gray-500"),children:[(0,n.jsx)(t.icon,{className:"h-6 w-6"}),(0,n.jsx)("span",{className:"text-xs",children:t.label})]},t.path)})})})},u=e=>{let{children:t}=e;return(0,r.useEffect)(()=>{console.log("Layout 組件已渲染")},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,n.jsx)("main",{className:"pb-[83px]",children:t}),(0,n.jsx)(o,{})]})}},6501:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return o},a:function(){return u}});var n=a(7437),r=a(2265),s=a(3301),l=a(1361),i=a(5978);let c=(0,r.createContext)({user:null,loading:!0,isAdmin:!1,logout:async()=>{}}),o=e=>{let{children:t}=e,[a,o]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1),p=async e=>{try{let t=await (0,i.QT)((0,i.JU)(l.db,"users",e));t.exists()&&h(!0===t.data().isAdmin)}catch(e){console.error("Error checking admin status:",e),h(!1)}};(0,r.useEffect)(()=>{let e=(0,s.Aj)(l.I,async e=>{o(e),e?await p(e.uid):h(!1),d(!1)});return()=>e()},[]);let b=async()=>{d(!0);try{await (0,s.w7)(l.I),o(null),console.log("User logged out successfully.")}catch(e){console.error("Error signing out:",e)}finally{d(!1)}};return(0,n.jsx)(c.Provider,{value:{user:a,loading:u,logout:b,isAdmin:f},children:t})},u=()=>(0,r.useContext)(c)},1361:function(e,t,a){"use strict";a.d(t,{I:function(){return i},db:function(){return c}});var n=a(738),r=a(3301),s=a(5978);let l=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAxZitnvh6eB2hvnPj66YzEH0QwqHKSBJ0",authDomain:"lifenumber-4165b.firebaseapp.com",projectId:"lifenumber-4165b",storageBucket:"lifenumber-4165b.appspot.com",messagingSenderId:"354586740442",appId:"1:354586740442:web:34ae0d75dfb4b066a707e3",measurementId:"G-TQDKFKKVPP"}),i=(0,r.v0)(l),c=(0,s.ad)(l)}},function(e){e.O(0,[358,982,699,943,705,971,117,744],function(){return e(e.s=2517)}),_N_E=e.O()}]);